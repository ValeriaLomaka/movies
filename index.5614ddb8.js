var BASE_URL="https://api.themoviedb.org/3",END_POINT="/trending/movie/week",API_KEY="345007f9ab440e5b86cef51be6397df1",guard=document.querySelector(".js-guard"),list=document.querySelector(".js-list"),page=1,options={root:null,rootMargin:"400px",threshold:0},observer=new IntersectionObserver(handlerPagination,options),counterObserver=0;function handlerPagination(e){e.forEach((function(e){e.isIntersecting&&serviceMovie(page+=1).then((function(e){return list.insertAdjacentHTML("beforeend",createMarkup(e.results))}))}))}function serviceMovie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat(BASE_URL).concat(END_POINT,"?api_key=").concat(API_KEY,"&page=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}function createMarkup(e){return e.map((function(e){var t=e.original_title,n=e.poster_path,r=e.vote_average;return"<div class='card'>\n    <li>\n    <img src=\"https://image.tmdb.org/t/p/w300".concat(n,'" alt="').concat(t,'">\n    <h2>').concat(t,"</h2>\n    <p class = 'rating-box'>").concat(r,"</p>\n    </li></div>")})).join("")}observer.observe(guard),serviceMovie().then((function(e){list.insertAdjacentHTML("beforeend",createMarkup(e.results)),e.total_pages>e.page&&observer.observe(guard)})).catch((function(e){return console.log(e)}));
//# sourceMappingURL=index.5614ddb8.js.map
